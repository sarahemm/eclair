@000
ldi8.flags  0x00    // system mode, paging off
// set up the system page table (so we can get to RAM)
// page table address 0 = 00000000_00000000 (first block of ROM)
@002
ldi16.a     0x0000
ldi16.d     0x0000
wrpte
// page table address 1 = 00000100_00000000 (first block of RAM)
@009
ldi16.a     0x0400
ldi16.d     0x0401
wrpte
// set up the stack pointer to the bottom of RAM and enable paging
@010
ldi16.sp    0x0400
ldi8.flags  0x05    // system mode, paging on
@015
push8.imm   0x55
push8.imm   0xAA
halt

// expect: pc=0x000019
// expect: reg_sp=00000100_00000010
// expect: ram[0x100000]=0x55
// expect: ram[0x100001]=0xaa
